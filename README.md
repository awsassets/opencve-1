<p align="center">
  <img alt="OpenCVE" src="https://raw.githubusercontent.com/ahmad4fifz/ahmad4fifz/main/logo/opencve.png">
</p>

# OpenCVE

[![Build status](https://ci.appveyor.com/api/projects/status/cvyx57w3tmaa6q1o?svg=true)](https://ci.appveyor.com/project/ahmad4fifz/opencve)

This is the deployement for [OpenCVE](https://github.com/opencve/opencve) using Docker container.

Suitable for those who want to deploy OpenCVE quickly without managing the dependencies (PostgresSQL, Redis and Celery).

## Description:

OpenCVE is a platform used to locally import the list of CVEs and perform searches on it (by vendors, products, CVSS, CWE...).

Users subscribe to vendors or products, and OpenCVE alerts them when a new CVE is created or when an update is done in an existing CVE.

## Requirement:

Required atleast 4 CPU, 8GB RAM and 160GB Storage if using Digital Ocean's droplet. (Monthly around $40 only)

## Configuration:

1. Clone the repository:

```
$ git clone https://github.com/ahmad4fifz-org/opencve.git
```

2. Copy the configuration in `conf` folder:

```
$ cd opencve && cp conf/opencve.cfg.example conf/opencve.cfg
```

3. Update the following keys in `conf/opencve.cfg` file:

- server_name
- secret_key &rarr; Generate [here](https://www.uuidgenerator.net/).
- smtp_server
- smtp_user
- smtp_password

## Deployment:

1. Build the image and start everything except `celery_beat`:

```
$ docker-compose build && docker-compose up -d proxy webserver celery_worker redis postgres
```

2. Initialize the database:

```
$ docker exec -it webserver opencve upgrade-db
```

3. Import the data:

```
$ docker exec -it webserver opencve import-data
```

4. Create an administrator:

```
$ docker exec -it webserver opencve create-user <user_name> <user_email> --admin
Password: <user_password>
Repeat for confirmation:
[*] User <user_name> created.
```

5. Start the `celery_beat`:

```
$ docker-compose up -d celery_beat
```

## References:

1. [OpenCVE Official Website](https://www.opencve.io/welcome)
2. [Documentation](https://docs.opencve.io/)
